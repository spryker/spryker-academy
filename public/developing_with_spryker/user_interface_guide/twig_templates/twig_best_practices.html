<!DOCTYPE html>
<html id="spryker-academy" lang="en-us" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Developing with Spryker|User Interface Guide|Twig Templates">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0" />
        <meta name="author" content="Spryker Systems GmbH" />
        <meta name="title" content="Spryker Academy" />
        <meta name="msapplication-config" content="/resources/ui/images/favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="/resources/ui/images/favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="/resources/ui/images/favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="/resources/ui/images/favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="/resources/ui/images/favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="/resources/ui/images/favicons/favicon-16x16.png" /><title>Best Practices - Twig Templates</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <style>@import url('https://fonts.googleapis.com/css?family=Lato:300,400,400i,900');

</style>
        <link href="/resources/ui/css/academy-ui-typography.css" rel="stylesheet" />
        <link href="/resources/ui/css/academy-ui-app.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/navigate-previous.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/navigate-next.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.expand-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/expand.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.print-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/printer.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.collapse-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/collapse.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../../resources/ui/css/academy-ui-typography.css" rel="stylesheet" />
        <link href="../../../resources/tablestyles/patternedrows.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body class="t-base t-base--page js-base-template">
        <div class="t-base__header">
            <header class="o-header">
                <div class="o-header__content g-grid g-grid--container g-grid--middle"><a class="m-logo g-col g-col--sm-10 g-col--lg-2" href="/"><img class="m-logo__image" src="/resources/ui/images/logo.png" alt="Spryker Logo" /></a>
                    <nav class="m-nav-top g-col g-col--sm-2 g-col--lg-10" id="nav-top">
                        <div class="u-is-hidden--sm-xl">
                            <ul class="nocontent menu mc-component" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                            </ul>
                        </div>
                        <div class="u-is-hidden--xl"><a class="m-nav-top__toggler js-base-template__toggler" href="#"><span class="icon icon-bars"></span></a>
                        </div>
                    </nav>
                </div>
            </header>
        </div>
        <div class="t-base__frame">
            <section class="o-search">
                <div class="g-grid g-grid--container">
                    <section class="m-search g-col g-col--sm-12">
                        <form action="/search.html" method="GET">
                            <input class="a-input a-input--expanded m-search__input" placeholder="Search in the Academy..." name="q" />
                            <button class="m-search__submit" type="submit"><span class="icon icon-search"></span>
                            </button>
                        </form>
                    </section>
                </div>
            </section>
            <section class="t-base__widgets g-grid g-grid--container g-grid--middle">
                <section class="m-breadcrumbs g-col g-col--sm-12 g-col--xl-8">
                    <div class="nocontent">
                        <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                        </div>
                    </div>
                </section>
                <div class="g-col g-col--sm-12 g-col--xl-4 u-align-right">
                    <section class="m-widget-toolbar">
                        <div class="buttons popup-container clearfix topicToolbarProxy _Skins_topic_toolbar mc-component nocontent">
                            <div class="button-group-container-left">
                                <button class="button needs-pie previous-topic-button" title="Navigate previous">
                                    <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="previous topic" />
                                </button>
                                <button class="button needs-pie next-topic-button" title="Navigate next">
                                    <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="next topic" />
                                </button>
                                <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                    <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                </button>
                                <button class="button needs-pie print-button" title="Print">
                                    <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="print" />
                                </button>
                            </div>
                        </div>
                    </section>
                    <div class="m-widget-github js-widget-github"><a class="m-widget-github__link icon icon-github js-widget-github__link" href="https://github.com/spryker/spryker-academy" target="_blank"></a>
                    </div>
                </div>
            </section>
            <main class="t-base__main g-grid g-grid--container">
                <div class="g-col g-col--sm-12 u-is-hidden--xl">
                    <div class="m-accordion js-accordion">
                        <div class="m-accordion__header">
                            <div class="m-accordion__title js-accordion__toggler"><span class="icon icon-ellipsis-v icon--left"></span>
                    Navigation
                </div>
                        </div>
                        <div class="m-accordion__content js-accordion__content">
                            <nav class="m-nav-sidebar" id="nav-sidebar">
                                <ul class="nocontent menu mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
                <div class="t-page-sidebar__content o-content g-col g-col--sm-12 g-col--xl-8 js-anchorer js-highlighter js-widget-copy">
                    <h1>Best Practices - Twig Templates</h1>
                    <h2>include vs macros vs embed
</h2>
                    <p>With <var>includes</var>, you can include an entire template. The template has access to any template variables that are currently in scope.

</p>
                    <p>With macros, you are defining a kind of function within Twig that can render a particular component given appropriate objects.

</p>
                    <p>So you could have a macro for rendering, for example, a shopping list which takes a list as a parameter - and you could then reuse this macro. </p>
                    <p>Variables that are not explicitly passed into the macro, won’t be within scope in that macro.

</p>
                    <p>Do not confuse <var>macros </var>with Twig functions; twig functions can access other application logic, not just the data that’s passed into the templates.

</p>
                    <p>A macro should really do one specific task to take some data and render a reusable component. An include can comprise any chunk of things - it’s a lot more up to you.

</p>
                    <p>The extensible nature of the way Twig templates work means that you are likely to use <var>includes </var>less, by design - but there can still be use cases where it will be the easiest way to avoid duplication in your templates.

</p>
                    <p>You may use <var>embed </var>when you need to extend a portion from the included file.
</p>
                    <table class="TableStyle-PatternedRows" style="mc-table-style: url('../../../resources/tablestyles/patternedrows.css');margin-left: 0;margin-right: auto;" cellspacing="0">
                        <col class="TableStyle-PatternedRows-Column-Regular" />
                        <col class="TableStyle-PatternedRows-Column-Regular" />
                        <thead>
                            <tr class="TableStyle-PatternedRows-Head-Header1">
                                <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Tag	</th>
                                <th class="TableStyle-PatternedRows-HeadD-Regular-Header1">When to Use</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="TableStyle-PatternedRows-Body-LightRows">
                                <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                    <p><var>include</var><![CDATA[	]]></p>
                                </td>
                                <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                    <p>Used to define common parts in the page, such as header, sidebar, etc. that are extracted for to increase readability and reusability.</p>
                                </td>
                            </tr>
                            <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                                <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                    <p><var>macro	</var>
                                    </p>
                                </td>
                                <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                    <p>Used to define functions related to the view, such as pagination. Reusable markup across other templates.</p>
                                </td>
                            </tr>
                            <tr class="TableStyle-PatternedRows-Body-LightRows">
                                <td class="TableStyle-PatternedRows-BodyB-Regular-LightRows">
                                    <p><var>embed	</var>
                                    </p>
                                </td>
                                <td class="TableStyle-PatternedRows-BodyA-Regular-LightRows">
                                    <p>

If you need to overwrite some blocks of the included template, use embed. If you don’t need to overwrite blocks, use include. It will do the same in a faster way.</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <h2>How to create a page in Zed
</h2>
                    <p>To create a new page in Zed, you need to create a new twig file that extends <var>the @Gui/Layout/layout.twig </var>main template and then extend the <var>content </var>block. Next, you can add your <var>content </var>inside content block.

</p><pre><code class="bash">{% extends '@Gui/Layout/layout.twig' %}

{% block content %}

    ... add your code here ...

{% endblock %}
</code></pre>
                    <p class="important">We strongly recommend to display page elements in widgets as in the next example.
</p>
                    <h2>How to add multiple elements (widgets) in pages
</h2>
                    <p>To keep the same format of pages and in order for all to look the same on the project, we provide the widgets templates that can be used and can be extended from every page layout:

</p><pre><code class="bash">{% embed '@Gui/Partials/widget.twig' %}

    {% block widget_content %}

        ... add here page content (forms, tables, texts, etc) ...

    {% endblock %}

{% endembed %}
</code></pre>
                    <p>By using widget templates, you have the advantage that you can overwrite elements in the widget, that you cannot with normal include. A full example can be seen below:

</p><pre><code class="bash">{% embed '@Gui/Partials/widget.twig' with { widget_title: 'My new page element', row_class: 'widget-class', row_id: 'widget-id' } %}

    {% block widget_header_content %}
        &lt;a class="btn btn-primary" href="/sales/details/?id-sales-order={{ idOrder }}"&gt;{{ 'View Order' | trans }}&lt;/a&gt;
    {% endblock %}

    {% block widget_content %}

        {{ form_start(form) }}
            {{ form_widget(form) }}

            &lt;input type="submit" class="btn btn-primary" value="{{ 'Save' | trans }}" /&gt;
        {{ form_end(form) }}

    {% endblock %}

{% endembed %}
</code></pre>
                    <h2>How to add forms
</h2>
                    <p>Spryker Commerce OS uses Symfony forms which are defined in PHP classes; in the twig templates we usually need few lines of code to render them:
</p><pre><code class="bash">{{ form_start(form) }}
    {{ form_widget(form) }}

    &lt;input type="submit" class="btn btn-primary" value="{{ 'Save' | trans }}" /&gt;
{{ form_end(form) }}
</code></pre>
                    <p class="important">We strongly recommend to define the form action buttons (like submit) in twig templates and not in the php form classes. Doing this, it’s much easier to extend the forms and to include forms in other forms.
</p>
                    <h2>How to add tables using dataTables
</h2>
                    <p>The first step to display tables in a template is to add one line of code inside a widget element (`` ):

</p><pre><code class="bash">{% block content %}

    {% embed '@Gui/Partials/widget.twig' %}

        {% block widget_content %}

            {{ customerTable | raw }}

        {% endblock %}

    {% endembed %}

{% endblock %}
</code></pre>
                    <p>Next step is to add support in your controller; add one controller action for retrieving the data table and one for having pagination support in your table.

</p><pre><code class="bash">&lt;?php

class IndexController
{
    public function indexAction()
    {
        $table = $this-&gt;getFactory()-&gt;createCustomerTable();
    
        return $this-&gt;viewResponse([
            'customerTable' =&gt; $table-&gt;render(),
        ]);
    }
    
    public function tableAction()
    {
        $table = $this-&gt;getFactory()-&gt;createCustomerTable();
    
        return $this-&gt;jsonResponse($table-&gt;fetchData());
    }
}
</code></pre>
                    <h2>How to add navigation buttons in Zed
</h2>
                    <p>In the main Zed layout <var>@Gui/Layout/layout.twig</var> you will find the empty action block which is used as a navigation menu between the <span class="Generalbundle/module">module</span>’s pages.

</p>
                    <p>To add new URLs, you’ll have to extend this block and add the necessary buttons by using one of the 5 twig helper functions: <var>{back|create|edit|view|remove}ActionButton</var>.

</p>
                    <p>Each of these buttons will accept three parameters: <var>$url, $title, array $options = []</var>.

</p><pre><code class="bash">{% block action %}
    {{ backActionButton($backUrl, $backTitleLabel) }}
    {{ createActionButton($createUrl, 'Create' | trans}) }}
    {{ editActionButton('/edit/id=' ~ entity.id, 'Edit Element' | tran) }}
    {{ viewActionButton('/view/id=' ~ entity.id, 'View Element' | trans) }}
    {{ removeActionButton('/remove/id=' ~ entity.id, 'Remove Element' | trans) }}
{% endblock %}
</code></pre>
                    <p>If you want to add id or class attributes to a button, just add them as a third parameter, as in the example below:

</p><pre>{{ createActionButton('/my/url', 'Create' | trans, { id: 'create-action', class: 'create-event-listener' }) }}
</pre>
                    <h2>How to add buttons to a table
</h2>
                    <p>This example refers to the case when you render a table in Zed without datatables.

</p>
                    <p>For the table button, you also have 5 twig helper functions: <var>{back|create|edit|view|remove}TableButton.</var></p><pre><code class="bash">&lt;td&gt;
    {{ backTableButton($backUrl, $backTitleLabel) }}
    {{ createTableButton($createUrl, 'Create' | trans}) }}
    {{ editTableButton('/edit/id=' ~ entity.id, 'Edit Element' | tran) }}
    {{ viewTableButton('/view/id=' ~ entity.id, 'View Element' | trans) }}
    {{ removeTableButton('/remove/id=' ~ entity.id, 'Remove Element' | trans) }}
&lt;/td&gt;
</code></pre>
                    <p class="note">Table buttons will have the same layout and functionality as action buttons, except their size will be smaller.
</p>
                    <h2>How to include javascript logic and custom styles in pages
</h2>
                    <p>In the bundles in Zed, you can find the assets folder where the Javascript and Sass files are stored. Each assets folder must have an entry point (js file) so that webpack knows how to compile the required files.

</p><pre><code class="bash">assets
    Zed
        js
            modules
                main.js
            spryker-zed-bundle_name-main.entry.js
        sass
            main.scss
</code></pre>
                    <p>The entry point file requires the main.je file which loads the other required Javascript and Sass files.

</p>
                    <h3>spryker-zed-bundle_name-main.entry.js
</h3><pre><code class="bash">'use strict';

require('./modules/main.js');
</code></pre>
                    <h3>main.js
</h3><pre><code class="bash">'use strict';

require('ZedGui');
require('./custom/logic'); // requires ./custom/logic.js file
require('../../sass/main.scss');
</code></pre>
                    <p>After you add the <span class="Generalbundle/module">module</span> specific assets files, you need to include them in the twig files where they are needed.

</p><pre><code class="bash">&lt;!-- Bundle/src/Spryker/Zed/Bundle/Presentation/ControllerName/actionName.twig --&gt;

{% block footer_js %}
    {{ parent() }}
    &lt;script src="/assets/js/spryker-zed-bundle_name-main.js"&gt;&lt;/script&gt;
{% endblock %}
</code></pre>
                    <p>And for CSS

</p><pre><code class="bash">&lt;!-- Bundle/src/Spryker/Zed/Bundle/Presentation/ControllerName/actionName.twig --&gt;

{% block head_css %}
    {{ parent() }}
    &lt;link rel="stylesheet" href="/assets/css/spryker-zed-bundle_name-main.css" /&gt;
{% endblock %}
</code></pre>
                    <p class="note">Always add <var>{{ parent() }}</var> inside CSS and Javascript extended blocks to keep the block content from the parent’s layout.
</p>
                    <p class="note">Not using parent will replace the content of the blocks instead of appending.
</p>
                    <h2>How to render a url from a template view
</h2>
                    <p>To render another page from a twig layout you will use <var>render(url())</var> functions:

</p><pre><code class="bash">    {{ render(url('/url/to/my/page')) }}
</code></pre>
                </div>
                <div class="t-page-sidebar__sidebar g-col g-col--sm-12 g-col--xl-4 u-is-hidden--sm-xl">
                    <section class="a-box a-box--shadow">
                        <nav class="m-nav-sidebar" id="nav-sidebar">
                            <ul class="nocontent menu mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                            </ul>
                        </nav>
                    </section>
                </div>
            </main>
            <div class="t-base__footer">
                <footer class="o-footer g-grid g-grid--middle">
                    <nav class="g-grid g-grid--container g-grid--center"><a class="o-footer__link" href="https://spryker.com/privacy-policy" target="_blank">Privacy policy</a><a class="o-footer__link" href="https://spryker.com/partneragb" target="_blank">AGB Partnerprogram</a><a class="o-footer__link" href="https://spryker.com/impressum" target="_blank">Impressum</a>
                    </nav>
                </footer>
            </div><a class="a-scroll-top js-scroll-top" href="#"><span class="a-scroll-top__icon icon icon-chevron-up"></span></a>
            <div class="t-base__overlay js-base-template__toggler">
            </div>
        </div>
        <div class="t-base__off">
            <section class="o-off-canvas">
                <nav class="m-nav-mobile" id="nav-mobile">
                    <ul class="nocontent menu mc-component" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                    </ul>
                </nav>
            </section>
        </div>
        <script src="/resources/ui/js/academy-ui-manifest.js">
        </script>
        <script src="/resources/ui/js/academy-ui-vendor.js">
        </script>
        <script src="/resources/ui/js/academy-ui-app.js">
        </script>
        <script>/* <![CDATA[ */
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-56589105-2', 'auto');
        ga('send', 'pageview');
    /* ]]> */</script>
    </body>
</html>
