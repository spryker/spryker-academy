<!DOCTYPE html>
<html id="spryker-academy" lang="en-us" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Developing with Spryker|Industry Partner Integration">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0" />
        <meta name="author" content="Spryker Systems GmbH" />
        <meta name="title" content="Spryker Academy" />
        <meta name="msapplication-config" content="/resources/ui/images/favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="/resources/ui/images/favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="/resources/ui/images/favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="/resources/ui/images/favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="/resources/ui/images/favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="/resources/ui/images/favicons/favicon-16x16.png" />
        <!-- Google Tag Manager -->
        <script>/*<![CDATA[*/(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-NP24S2');/*]]>*/</script>
        <!-- End Google Tag Manager --><title>Email Provider - Inxmail</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <style>@import url('https://fonts.googleapis.com/css?family=Lato:300,400,400i,900');

</style>
        <link href="/resources/ui/css/academy-ui-typography.css" rel="stylesheet" />
        <link href="/resources/ui/css/academy-ui-app.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/navigate-previous.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/navigate-next.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.expand-all-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/expand.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.print-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/printer.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.collapse-all-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/collapse.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../resources/ui/css/academy-ui-typography.css" rel="stylesheet" />
        <script src="../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body class="t-base t-base--page js-base-template">
        <!-- Google Tag Manager (noscript) -->
        <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NP24S2" height="0" width="0" style="display:none;visibility:hidden"></iframe>
        </noscript>
        <!-- End Google Tag Manager (noscript) -->
        <div class="t-base__header">
            <header class="o-header">
                <div class="o-header__content g-grid g-grid--container g-grid--middle"><a class="m-logo g-col g-col--sm-10 g-col--lg-2" href="/"><img class="m-logo__image" src="/resources/ui/images/logo.png" alt="Spryker Logo" /></a>
                    <nav class="m-nav-top g-col g-col--sm-2 g-col--lg-10" id="nav-top">
                        <div class="u-is-hidden--sm-xl">
                            <ul class="nocontent menu mc-component" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                            </ul>
                        </div>
                        <div class="u-is-hidden--xl"><a class="m-nav-top__toggler js-base-template__toggler" href="#"><span class="icon icon-bars"></span></a>
                        </div>
                    </nav>
                </div>
            </header>
        </div>
        <div class="t-base__frame">
            <section class="o-search">
                <div class="g-grid g-grid--container">
                    <section class="m-search g-col g-col--sm-12">
                        <form action="/search.html" method="GET">
                            <input class="a-input a-input--expanded m-search__input" placeholder="Search in the Academy..." name="q" />
                            <button class="m-search__submit" type="submit"><span class="icon icon-search"></span>
                            </button>
                        </form>
                    </section>
                </div>
            </section>
            <section class="t-base__widgets g-grid g-grid--container g-grid--middle">
                <section class="m-breadcrumbs g-col g-col--sm-12 g-col--xl-8">
                    <div class="nocontent">
                        <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                        </div>
                    </div>
                </section>
                <div class="g-col g-col--sm-12 g-col--xl-4 u-align-right">
                    <section class="m-widget-toolbar">
                        <div class="buttons popup-container clearfix topicToolbarProxy _Skins_topic_toolbar mc-component nocontent">
                            <div class="button-group-container-left">
                                <button class="button needs-pie previous-topic-button" title="Navigate previous">
                                    <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="previous topic" />
                                </button>
                                <button class="button needs-pie next-topic-button" title="Navigate next">
                                    <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="next topic" />
                                </button>
                                <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                    <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                </button>
                                <button class="button needs-pie print-button" title="Print">
                                    <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="print" />
                                </button>
                            </div>
                        </div>
                    </section>
                    <div class="m-widget-github js-widget-github"><a class="m-widget-github__link icon icon-github js-widget-github__link" href="https://github.com/spryker/spryker-academy" target="_blank"></a>
                    </div>
                </div>
            </section>
            <main class="t-base__main g-grid g-grid--container">
                <div class="g-col g-col--sm-12 u-is-hidden--xl">
                    <div class="m-accordion js-accordion">
                        <div class="m-accordion__header">
                            <div class="m-accordion__title js-accordion__toggler"><span class="icon icon-ellipsis-v icon--left"></span>
                    Navigation
                </div>
                        </div>
                        <div class="m-accordion__content js-accordion__content">
                            <nav class="m-nav-sidebar" id="nav-sidebar">
                                <ul class="nocontent menu mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
                <div class="t-page-sidebar__content o-content g-col g-col--sm-12 g-col--xl-8 js-anchorer js-highlighter js-widget-copy">
                    <h1>Email Provider - Inxmail</h1>
                    <p>
                        <img src="../../resources/images/inxmail_logo.png" />
                    </p>
                    <h2>Partner Information</h2>
                    <table style="margin-left: 0; margin-right: auto;">
                        <col style="width: 766px;" />
                        <col />
                        <tbody>
                            <tr>
                                <td><a href="https://www.inxmail.com" target="_blank">ABOUT INXMAIL</a>
                                </td>
                                <td>&#160;</td>
                            </tr>
                            <tr>
                                <td colspan="2">
                                    <p>With nearly 20 years of experience, we are a pioneer in software development for email marketing. We support our customers and partners with fantastic service and grow their potential in a targeted way. In doing so, we draw upon a broad range of technology and services.</p>
                                    <p>Our solutions are influenced by our strong relationships with customers. We flexibly adapt our solutions to meet specific customer needs. Expertise that pays off: We have been implementing successful email marketing and multichannel campaigns for over 2,000 customers in more than 20 countries since 1999.</p>
                                </td>
                            </tr>
                            <tr>
                                <td>YOUR ADVANTAGES:<![CDATA[					]]></td>
                                <td>&#160;</td>
                            </tr>
                            <tr>
                                <td colspan="2">
                                    <ul>
                                        <li value="1">Broad portfolio of technology, service and know-how - from the standard solution to individual solution packages</li>
                                        <li value="2">E-mail delivery solutions for highly personalized newsletters, transaction mails, and automated e-mail campaigns</li>
                                        <li value="3">Delivery security via whitelisted mail server even with high mail volumes</li>
                                        <li value="4">Powerful interfaces for seamless integration into existing system landscapes</li>
                                        <li value="5">Software made and hosted in Germany</li>
                                        <li value="6">DSGVO-compliant e-mail marketing</li>
                                        <li value="7">Co-founder and member of the Certified Senders Alliance (CSA)</li>
                                        <li value="8">Award Winning: Competent, Fast and Reliable Customer Service and Support</li>
                                        <li value="9">Personal advice and contact person</li>
                                    </ul>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <h2>Installation</h2>
                    <p>To install Inxmail run the command in the console:</p><pre><code>
		composer require spryker-eco/inxmail:1.0.0
				</code></pre>
                    <h2>Configuration</h2>
                    <p>To set up the Inxmail initial configuration, use the credentials you received from your Inxmail server. Space id, key id and secret you can get from Settings â†’ API keys panel on Inxmail server:</p><pre><code>
				$config[InxmailConstants::API_EVENT_URL] = '';
				$config[InxmailConstants::KEY_ID] = '';
				$config[InxmailConstants::SECRET] = '';
				</code></pre>
                    <p>Event names depend on your events names on Inxmail server:</p><pre><code>
				$config[InxmailConstants::EVENT_CUSTOMER_REGISTRATION] = '';
				$config[InxmailConstants::EVENT_CUSTOMER_RESET_PASSWORD] = '';
				$config[InxmailConstants::EVENT_ORDER_NEW] = '';
				$config[InxmailConstants::EVENT_ORDER_SHIPPING_CONFIRMATION] = '';
				$config[InxmailConstants::EVENT_ORDER_CANCELED] = '';
				$config[InxmailConstants::EVENT_ORDER_PAYMENT_IS_NOT_RECEIVED] = '';
		</code></pre>
                    <h2>Integration</h2>
                    <h3>New customer registration event</h3>
                    <p>Inxmail module has <var>\SprykerEco\Zed\Inxmail\Communication\Plugin\Customer\InxmailPostCustomerRegistrationPlugin</var>. This plugin implements <var>PostCustomerRegistrationPluginInterface</var> and can be used in <var>\Pyz\Zed\Customer\CustomerDependencyProvider::getPostCustomerRegistrationPlugins.</var></p><pre><code>
				...
				use SprykerEco\Zed\Inxmail\Communication\Plugin\Customer\InxmailPostCustomerRegistrationPlugin
				...
 
				/**
				* @return \Spryker\Zed\CustomerExtension\Dependency\Plugin\PostCustomerRegistrationPluginInterface[]
				*/
				protected function getPostCustomerRegistrationPlugins(): array
				{
					return [
						...
						new InxmailPostCustomerRegistrationPlugin(),
						...
					];
				}
		</code></pre>
                    <h3>The customer asked to reset password event</h3>
                    <p>Inxmail module has <var>\SprykerEco\Zed\Inxmail\Communication\Plugin\Customer\InxmailCustomerRestorePasswordMailTypePlugin</var>. This plugin implements <var>MailTypePluginInterface</var> and can be used in <var>\Pyz\Zed\Mail\MailDependencyProvider::provideBusinessLayerDependencies</var></p><pre><code>
				...
				use \SprykerEco\Zed\Inxmail\Communication\Plugin\Customer\InxmailCustomerRestorePasswordMailTypePlugin;
				...

				/**
				 * @param \Spryker\Zed\Kernel\Container $container
				 *
				 * @return \Spryker\Zed\Kernel\Container
				 */
				public function provideBusinessLayerDependencies(Container $container)
				{
					$container = parent::provideBusinessLayerDependencies($container);

					$container-&gt;extend(self::MAIL_TYPE_COLLECTION, function (MailTypeCollectionAddInterface $mailCollection) {
						$mailCollection
							...
							-&gt;add(new InxmailCustomerRestorePasswordMailTypePlugin())
							...

						return $mailCollection;
					});

					...

					return $container;
				}
			</code></pre>
                    <h3>Order referenced commands</h3>
                    <p>Inxmail module has four different commands:</p>
                    <ul>
                        <li value="1"><var>\SprykerEco\Zed\Inxmail\Communication\Plugin\Oms\Command\InxmailNewOrderPlugin</var>
                        </li>
                        <li value="2"><var>\SprykerEco\Zed\Inxmail\Communication\Plugin\Oms\Command\InxmailOrderCanceledPlugin</var>
                        </li>
                        <li value="3"><var>\SprykerEco\Zed\Inxmail\Communication\Plugin\Oms\Command\InxmailPaymentNotReceivedPlugin</var>
                        </li>
                        <li value="4"><var>\SprykerEco\Zed\Inxmail\Communication\Plugin\Oms\Command\InxmailShippingConfirmationPlugin</var>
                        </li>
                    </ul>
                    <p>You can use this commands in&#160;<var>\Pyz\Zed\Oms\OmsDependencyProvider::getCommandPlugins</var></p><pre><code>
				...
				use SprykerEco\Zed\Inxmail\Communication\Plugin\Oms\Command\InxmailNewOrderPlugin;
				...

				/**
				 * @param \Spryker\Zed\Kernel\Container $container
				 * 
				 * @return \Spryker\Zed\Oms\Communication\Plugin\Oms\Command\CommandCollection
				 */
				protected function getCommandPlugins(Container $container)
				{
					$collection = parent::getCommandPlugins($container);

					...
					$collection-&gt;add(new InxmailNewOrderPlugin(), 'Inxmail/SendNewOrderRequest');
					...

					return $collection;
				}
		</code></pre>
                    <p>After that you are ready to use commands in OMS setup:</p><pre><code>
				&lt;events&gt;
					&lt;event name="authorize" onEnter="true" manual="true" command="Inxmail/SendNewOrderRequest"/&gt;
					&lt;event name="pay" manual="true" timeout="1 hour" /&gt;
					&lt;event name="export" onEnter="true" manual="true" command="Oms/SendOrderConfirmation"/&gt;
					&lt;event name="ship" manual="true" command="Oms/SendOrderShipped"/&gt;
					&lt;event name="stock-update" manual="true"/&gt;
					&lt;event name="close" manual="true" timeout="1 hour"/&gt;
					&lt;event name="return" manual="true" /&gt;
				&lt;/events&gt;
		</code></pre>
                    <h2>API Requests</h2>
                    <p><var>\SprykerEco\Zed\Inxmail\Business\Api\Adapter\EventAdapter</var> which extend <var>\SprykerEco\Zed\Inxmail\Business\Api\Adapter\AbstractAdapter</var> contains all needed data for sending data to Inxmail for events.</p>
                    <p>It sends the request via <var>&#160;\Generated\Shared\Transfer\InxmailRequestTransfer</var></p><pre><code>
				&lt;?xml version="1.0"?&gt;
				&lt;transfers xmlns="http://xsd.spryker.com"
					xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
					xsi:schemaLocation="http://static.spryker.com http://static.spryker.com/transfer-01.xsd"&gt;

					&lt;transfer name="InxmailRequest"&gt;
						&lt;property name="event" type="string" /&gt;
						&lt;property name="transactionId" type="string" /&gt;
						&lt;property name="payload" type="array" /&gt;
					&lt;/transfer&gt;

				&lt;/transfers&gt;
				</code></pre>
                    <p>The payload for customer loads from <var>&#160;\SprykerEco\Zed\Inxmail\Business\Mapper\Customer\AbstractCustomerMapper::getPayload</var> and for order from <var>&#160;\SprykerEco\Zed\Inxmail\Business\Mapper\Order\AbstractOrderMapper</var>. Abstract classes can be extended and changed in <var>&#160;\SprykerEco\Zed\Inxmail\Business\InxmailBusinessFactory.</var></p>
                    <p class="note">For right URL's to images in the email body you should extend <var>\SprykerEco\Zed\Inxmail\Business\Mapper\Order\AbstractOrderMapper</var> and implement protected method <var>getImageItemLink(ArrayObject $images)</var>.</p>
                    <p>&#160;</p>
                    <p><i>Last review date: Aug. 28th, 2018 </i>
                    </p>
                </div>
                <div class="t-page-sidebar__sidebar g-col g-col--sm-12 g-col--xl-4 u-is-hidden--sm-xl">
                    <section class="a-box a-box--shadow">
                        <nav class="m-nav-sidebar" id="nav-sidebar">
                            <ul class="nocontent menu mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                            </ul>
                        </nav>
                    </section>
                </div>
            </main>
            <div class="t-base__footer">
                <footer class="o-footer g-grid g-grid--middle">
                    <nav class="g-grid g-grid--container g-grid--center"><a class="o-footer__link" href="https://spryker.com/privacy-policy" target="_blank">Privacy policy</a><a class="o-footer__link" href="https://spryker.com/partneragb" target="_blank">AGB Partnerprogram</a><a class="o-footer__link" href="https://spryker.com/impressum" target="_blank">Impressum</a>
                    </nav>
                </footer>
            </div><a class="a-scroll-top js-scroll-top" href="#"><span class="a-scroll-top__icon icon icon-chevron-up"></span></a>
            <div class="t-base__overlay js-base-template__toggler">
            </div>
        </div>
        <div class="t-base__off">
            <section class="o-off-canvas">
                <nav class="m-nav-mobile" id="nav-mobile">
                    <ul class="nocontent menu mc-component" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                    </ul>
                </nav>
            </section>
        </div>
        <script src="/resources/ui/js/academy-ui-manifest.js">
        </script>
        <script src="/resources/ui/js/academy-ui-vendor.js">
        </script>
        <script src="/resources/ui/js/academy-ui-app.js">
        </script>
    </body>
</html>