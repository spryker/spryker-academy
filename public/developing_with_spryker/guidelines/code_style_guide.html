<!DOCTYPE html>
<html id="spryker-academy" lang="en-us" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Developing with Spryker|Guidelines">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0" />
        <meta name="author" content="Spryker Systems GmbH" />
        <meta name="title" content="Spryker Academy" />
        <meta name="msapplication-config" content="/resources/ui/images/favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="/resources/ui/images/favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="/resources/ui/images/favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="/resources/ui/images/favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="/resources/ui/images/favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="/resources/ui/images/favicons/favicon-16x16.png" /><title>Code Style Guide</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <style>@import url('https://fonts.googleapis.com/css?family=Lato:300,400,400i,900');

</style>
        <link href="/resources/ui/css/academy-ui-typography.css" rel="stylesheet" />
        <link href="/resources/ui/css/academy-ui-app.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/navigate-previous.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/navigate-next.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.expand-all-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/expand.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.print-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/printer.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.collapse-all-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/collapse.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../resources/ui/css/academy-ui-typography.css" rel="stylesheet" />
        <script src="../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body class="t-base t-base--page js-base-template">
        <div class="t-base__header">
            <header class="o-header">
                <div class="o-header__content g-grid g-grid--container g-grid--middle"><a class="m-logo g-col g-col--sm-10 g-col--lg-2" href="/"><img class="m-logo__image" src="/resources/ui/images/logo.png" alt="Spryker Logo" /></a>
                    <nav class="m-nav-top g-col g-col--sm-2 g-col--lg-10" id="nav-top">
                        <div class="u-is-hidden--sm-xl">
                            <ul class="nocontent menu mc-component" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                            </ul>
                        </div>
                        <div class="u-is-hidden--xl"><a class="m-nav-top__toggler js-base-template__toggler" href="#"><span class="icon icon-bars"></span></a>
                        </div>
                    </nav>
                </div>
            </header>
        </div>
        <div class="t-base__frame">
            <section class="o-search">
                <div class="g-grid g-grid--container">
                    <section class="m-search g-col g-col--sm-12">
                        <form action="/search.html" method="GET">
                            <input class="a-input a-input--expanded m-search__input" placeholder="Search in the Academy..." name="q" />
                            <button class="m-search__submit" type="submit"><span class="icon icon-search"></span>
                            </button>
                        </form>
                    </section>
                </div>
            </section>
            <section class="t-base__widgets g-grid g-grid--container g-grid--middle">
                <section class="m-breadcrumbs g-col g-col--sm-12 g-col--xl-8">
                    <div class="nocontent">
                        <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                        </div>
                    </div>
                </section>
                <div class="g-col g-col--sm-12 g-col--xl-4 u-align-right">
                    <section class="m-widget-toolbar">
                        <div class="buttons popup-container clearfix topicToolbarProxy _Skins_topic_toolbar mc-component nocontent">
                            <div class="button-group-container-left">
                                <button class="button needs-pie previous-topic-button" title="Navigate previous">
                                    <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="previous topic" />
                                </button>
                                <button class="button needs-pie next-topic-button" title="Navigate next">
                                    <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="next topic" />
                                </button>
                                <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                    <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                </button>
                                <button class="button needs-pie print-button" title="Print">
                                    <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="print" />
                                </button>
                            </div>
                        </div>
                    </section>
                    <div class="m-widget-github js-widget-github"><a class="m-widget-github__link icon icon-github js-widget-github__link" href="https://github.com/spryker/spryker-academy" target="_blank"></a>
                    </div>
                </div>
            </section>
            <main class="t-base__main g-grid g-grid--container">
                <div class="g-col g-col--sm-12 u-is-hidden--xl">
                    <div class="m-accordion js-accordion">
                        <div class="m-accordion__header">
                            <div class="m-accordion__title js-accordion__toggler"><span class="icon icon-ellipsis-v icon--left"></span>
                    Navigation
                </div>
                        </div>
                        <div class="m-accordion__content js-accordion__content">
                            <nav class="m-nav-sidebar" id="nav-sidebar">
                                <ul class="nocontent menu mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
                <div class="t-page-sidebar__content o-content g-col g-col--sm-12 g-col--xl-8 js-anchorer js-highlighter js-widget-copy">
                    <h1>Code Style Guide</h1>
                    <p>We follow the <a href="http://www.php-fig.org/psr/psr-2/" target="_blank">PSR-2 standards</a>. To achieve a styled codebase, we integrated the well known <a href="https://github.com/FriendsOfPHP/PHP-CS-Fixer" target="_blank">PHP-CS Fixer</a> and <a href="https://github.com/squizlabs/PHP_CodeSniffer" target="_blank">PHPCodeSniffer</a>.
</p>
                    <h2>Code Sniffer and Fixer</h2>
                    <p>
We use a very powerful tool to help keeping the code clean and preventing simple mistakes.</p>
                    <h3>Automate Code Style Correction</h3>
                    <p>The sniffer can find all the issues, and can also auto-fix most of them (when used with -f option). </p><pre><code class="bash">$ vendor/bin/console code:sniff
 
// Fix fixable errors instead of just reporting
$ vendor/bin/console code:sniff -f

// Sniff a specific subfolder of your project
$ vendor/bin/console code:sniff src/Pyz/Zed
 
// Run a specific sniff only
$ vendor/bin/console code:sniff ... -s Spryker.Commenting.FullyQualifiedClassNameInDocBlock
</code></pre>
                    <p>Tip: <code>c:s:s</code> can be used as a shortcut.</p>
                    <p><b>Additional options</b>:</p>
                    <ul>
                        <li class="bullet_list" value="1"><var>-v:</var> Verbose output</li>
                        <li class="bullet_list" value="2"><var>-d:</var> Dry-run, only output the command to be run</li>
                    </ul>
                    <p>Always commit your changes before executing this command!</p>
                    <p>Run <var>–help</var> or <var>-h</var> to get help about usage of all options available.</p>
                    <p>See the <a href="https://github.com/spryker/code-sniffer" target="_blank">code sniffer</a> documentation for details and information on how to set it up for your CI system as a checking tool for each PR.</p>
                    <h3>Necessary Project Adjustments</h3>
                    <p>Make sure you change the composer package name of your application, once you forked or copied the demoshop code. By default it reads this in the main <var>composer.json</var>: </p><pre> "name": "spryker/demoshop", </pre>
                    <p>Modify this in order to skip the MIT license checks.</p>
                    <p>The <a href="https://github.com/spryker/code-sniffer" target="_blank">code sniffer</a> documentation shows how to extend and customize the sniffer rules in general for your project.</p>
                    <h2>Conventions and Guidelines</h2>
                    <p>Always try to follow these best practices, they help to avoid certain classes of problems. These are more guidelines than absolute rules. If you feel the need to deviate from them, please document why you are doing so.</p>
                    <h3>Use Statements
</h3>
                    <ol>
                        <li value="1">Do not use them for internal PHP classes because it’s easier to see that an internal PHP class is used when you have the “" in front of the class name. Statements help us to make very long class names shorter inside of the class body. This is not needed for internal PHP classes because they don’t have a long namespace.
</li>
                        <li value="2">They must be ordered.
</li>
                    </ol>
                    <h3>Alias for Use
</h3>
                    <p>When you need an alias to use a Spryker class, follow this naming:

use <var>Spryker\Foo\Bar as SprykerBar;</var></p>
                    <p>Do not use <var>CoreBar </var>or any other naming.
</p>
                    <h3>One Programming Language per File
</h3>
                    <p>Only ever use one programming language per file. This allows us to use language specific tooling on those files.

This means no inline JavaScript or CSS, no generation of HTML in PHP, no execution of raw SQL statements from PHP. (Currently all *Table.php files are an exception to this, HTML is allowed here.)

</p>
                    <h3>Comparison
</h3>
                    <p>Don’t use loose comparison, always be as strict as possible.

</p>
                    <p>Bad</p><pre><code class="bash">&lt;?php
if ($a == $b)
</code></pre>
                    <p>Good</p><pre><code class="bash">&lt;?php
if ($a === $b)
</code></pre>
                    <p>For null checks use comparison to null instead of invoking method <var>is_null()</var>.

</p>
                    <p>Bad</p><pre><code class="bash">&lt;?php
if (is_null($variable))
</code></pre>
                    <p>Good
</p><pre><code class="bash">&lt;?php
if ($variable === null)
</code></pre>
                    <p>Don’t use Yoda conditions (reversed order) and don’t use inline assignment (assignment inside conditions). They easily introduce bugs.

</p>
                    <p>Bad</p><pre><code class="bash">&lt;?php
if (static::SOME_CONST === ($b = $a-&gt;getFoo()))
</code></pre>
                    <p>Good
</p><pre><code class="bash">&lt;?php
$b = $a-&gt;getFoo();
if ($b === static::SOME_CONST)
</code></pre>
                    <p>Only use <var>empty()</var> and <var>isset()</var> where the variable or array key could possibly not exist:

</p>
                    <p>Bad

</p><pre><code class="bash">&lt;?php
$var = $this-&gt;getVar();
if (empty($var)) {
}
</code></pre>
                    <p>Good

</p><pre><code class="bash">&lt;?php
$var = $this-&gt;getVar();
if (!$var) {
}
</code></pre>
                    <p>You can also be more strict and use <var>!== null</var> check, especially if the returned value is either an object or not (null).

</p>
                    <h3>Typecasting
</h3>
                    <p>Don’t use <var>intval()</var> or other casting functions. Use <var>(int)</var>, <var>(bool)</var>, etc.

</p>
                    <p>Don’t use <var>!!</var> to cast to bool, use <var>(bool)</var>.

There is no space after casts.

</p>
                    <h3>String Functions
</h3>
                    <p>Always use the multibyte string functions when available (<a href="http://php.net/manual/en/ref.mbstring.php" target="_blank">Multibyte String Functions</a>) and where non-ascii input is possible.

</p>
                    <p>The performance costs are negligible and it makes it really easy to see where we might still use the wrong function.

</p>
                    <h3>Switch Statements
</h3>
                    <p>Don’t use switch statements in PHP, they only do loose comparison and it’s easy to mess up the break.

</p>
                    <h3>Return Early and Else
</h3>
                    <p>Return as soon as you know your method cannot do some meaningful work anymore. Reduce indentation by using <var>if/return</var> instead of a top-level <var>if/else</var>.

Try to keep the “meat” of your method at the lowest indentation level. Using <var>else</var> is almost always a code smell. Read up on how to refactor to return <var>early</var> if you find yourself in deeply nested conditions.

</p>
                    <h3>Return Types
</h3>
                    <p>All functions and methods need to declare a <var>@return</var> statement.

</p>
                    <p><b>The only exception</b>: Do not use return statements for constructor <var>__construct()</var> and destructor <var>__destruct()</var>, as per definition both of them cannot return anything.

</p>
                    <p>Be explicit about your return type. Even though <var>return; </var>and <var>return null;</var> are technically the same, we make a semantic differentiation between them. This way we can also see when a return parameter was forgotten or someone tries to use a void method.
</p><pre><code class="bash">&lt;?php
/**
 * @return void
 */
public function doNotReturnSth()
{
    if ($this-&gt;returnEarly()) {
        return;
    }
    // ...
}
 
/**
 * @return Object|null
 */
public function doReturnSth()
{
    if ($this-&gt;shouldReturnEarly()) {
        return null;
    }
    $object = ...;
 
    return $object;
}
</code></pre>
                    <p>Bottom line: <var>void</var> if nothing is expected to be returned, <var>null</var> otherwise (or if mixed with others). Try to return only one type, mixed return types are often a code smell. Also, proper object is better than associative arrays most of the time.

</p>
                    <h3>Avoid "no-op" Methods
</h3><pre><code class="bash">&lt;?php
/*
 * //Bad
 *
 * @param string|null $input
 *
 * @return void
 */
public function foo($input = null)
{
    if ($input === null) {
        return;
    }
    ...
}
 
/*
 * //Good
 *
 * @param string|null $input
 *
 * @return void
 */
public function foo($input)
{
    if ($input === null) {
        return;
    }
    ...
}
</code></pre>
                    <p>The first would allow "no-ops" like <var>$this-&gt;foo()</var> which does not do any operation at all.

</p>
                    <p>So semantically this makes no sense. In this case no default value may be used and a first argument is actually required for the first if statement to make sense (<var>$this-&gt;foo($requiredArgument)</var>). You can still pass <var>null</var>, of course, to break out early.

Default values may only be used if their usage does make this method still do an operation (apart from returning <var>early</var>).

</p>
                    <h3>Datetimes
</h3>
                    <p>Always use UTC Datetimes when you are storing and processing them. The only place Datetimes should be converted to a different timezone, is in the presentation layer.

</p>
                    <h3>Deprecations
</h3>
                    <p>When you deprecate a method, class or alike, it is recommended to add a short sentence on what to use instead.

</p><pre><code class="bash">&lt;?php
/**
 * @deprecated Use Foo::bar() instead.
 */
</code></pre>
                    <p>So all people know immediately what to do without having to investigate deeper.

</p>
                    <h3>Exceptions
</h3>
                    <p>Always throw custom exceptions from the <span class="Generalbundle/module">module</span> namespace. Never throw base exceptions.

</p>
                    <p>This allows better handling of exceptions.

</p>
                    <h3>Error Handling
</h3>
                    <p>Never use the error control operator (@).

</p>
                    <h3>Environments and Configuration
</h3>
                    <p>If you have behavior that depends on the current environment, never check the environment directly. Use a configuration setting for that behavior and set it to the appropriate value for the environment. The environment should only affect the fact which configuration is used.

</p>
                    <h3>Documentation Annotations
</h3>
                    <p>If a method returns <var>$this </var>(the class instance itself), please hint that in the doc comment with:

</p><pre xml:space="preserve"><code class="bash">&lt;?php
/**
 * @return $this
 */</code></pre>
                    <p xml:space="preserve">
We group the doc block types, so there is space around the params, and the order is:
</p><pre><code class="bash">&lt;?php
/**
 * @param ...
 * @param ...
 *
 * @throws ...
 *
 * @return ...
 */
</code></pre>
                    <p>All classes use FQCN in doc block annotations. We only outline exceptions in annotations for them being thrown in the same method.

</p>
                </div>
                <div class="t-page-sidebar__sidebar g-col g-col--sm-12 g-col--xl-4 u-is-hidden--sm-xl">
                    <section class="a-box a-box--shadow">
                        <nav class="m-nav-sidebar" id="nav-sidebar">
                            <ul class="nocontent menu mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                            </ul>
                        </nav>
                    </section>
                </div>
            </main>
            <div class="t-base__footer">
                <footer class="o-footer g-grid g-grid--middle">
                    <nav class="g-grid g-grid--container g-grid--center"><a class="o-footer__link" href="https://spryker.com/privacy-policy" target="_blank">Privacy policy</a><a class="o-footer__link" href="https://spryker.com/partneragb" target="_blank">AGB Partnerprogram</a><a class="o-footer__link" href="https://spryker.com/impressum" target="_blank">Impressum</a>
                    </nav>
                </footer>
            </div><a class="a-scroll-top js-scroll-top" href="#"><span class="a-scroll-top__icon icon icon-chevron-up"></span></a>
            <div class="t-base__overlay js-base-template__toggler">
            </div>
        </div>
        <div class="t-base__off">
            <section class="o-off-canvas">
                <nav class="m-nav-mobile" id="nav-mobile">
                    <ul class="nocontent menu mc-component" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                    </ul>
                </nav>
            </section>
        </div>
        <script src="/resources/ui/js/academy-ui-manifest.js">
        </script>
        <script src="/resources/ui/js/academy-ui-vendor.js">
        </script>
        <script src="/resources/ui/js/academy-ui-app.js">
        </script>
        <script>/* <![CDATA[ */
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-56589105-2', 'auto');
        ga('send', 'pageview');
    /* ]]> */</script>
    </body>
</html>
