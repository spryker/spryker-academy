<!DOCTYPE html>
<html id="spryker-academy" lang="en-us" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Developing with Spryker|Module Guide|Products">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0" />
        <meta name="author" content="Spryker Systems GmbH" />
        <meta name="title" content="Spryker Academy" />
        <meta name="msapplication-config" content="/resources/ui/images/favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="/resources/ui/images/favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="/resources/ui/images/favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="/resources/ui/images/favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="/resources/ui/images/favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="/resources/ui/images/favicons/favicon-16x16.png" /><title>Price</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <style>@import url('https://fonts.googleapis.com/css?family=Lato:300,400,400i,900');

</style>
        <link href="/resources/ui/css/academy-ui-typography.css" rel="stylesheet" />
        <link href="/resources/ui/css/academy-ui-app.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/navigate-previous.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/navigate-next.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.expand-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/expand.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.print-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/printer.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.collapse-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/collapse.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../../resources/ui/css/academy-ui-typography.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body class="t-base t-base--page js-base-template">
        <div class="t-base__header">
            <header class="o-header">
                <div class="o-header__content g-grid g-grid--container g-grid--middle"><a class="m-logo g-col g-col--sm-10 g-col--lg-2" href="/"><img class="m-logo__image" src="/resources/ui/images/logo.png" alt="Spryker Logo" /></a>
                    <nav class="m-nav-top g-col g-col--sm-2 g-col--lg-10" id="nav-top">
                        <div class="u-is-hidden--sm-xl">
                            <ul class="nocontent menu mc-component" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                            </ul>
                        </div>
                        <div class="u-is-hidden--xl"><a class="m-nav-top__toggler js-base-template__toggler" href="#"><span class="icon icon-bars"></span></a>
                        </div>
                    </nav>
                </div>
            </header>
        </div>
        <div class="t-base__frame">
            <section class="o-search">
                <div class="g-grid g-grid--container">
                    <section class="m-search g-col g-col--sm-12">
                        <form action="/search.html" method="GET">
                            <input class="a-input a-input--expanded m-search__input" placeholder="Search in the Academy..." name="q" />
                            <button class="m-search__submit" type="submit"><span class="icon icon-search"></span>
                            </button>
                        </form>
                    </section>
                </div>
            </section>
            <section class="t-base__widgets g-grid g-grid--container g-grid--middle">
                <section class="m-breadcrumbs g-col g-col--sm-12 g-col--xl-8">
                    <div class="nocontent">
                        <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                        </div>
                    </div>
                </section>
                <div class="g-col g-col--sm-12 g-col--xl-4 u-align-right">
                    <section class="m-widget-toolbar">
                        <div class="buttons popup-container clearfix topicToolbarProxy _Skins_topic_toolbar mc-component nocontent">
                            <div class="button-group-container-left">
                                <button class="button needs-pie previous-topic-button" title="Navigate previous">
                                    <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="previous topic" />
                                </button>
                                <button class="button needs-pie next-topic-button" title="Navigate next">
                                    <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="next topic" />
                                </button>
                                <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                    <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                </button>
                                <button class="button needs-pie print-button" title="Print">
                                    <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="print" />
                                </button>
                            </div>
                        </div>
                    </section>
                    <div class="m-widget-github js-widget-github"><a class="m-widget-github__link icon icon-github js-widget-github__link" href="https://github.com/spryker/spryker-academy" target="_blank"></a>
                    </div>
                </div>
            </section>
            <main class="t-base__main g-grid g-grid--container">
                <div class="g-col g-col--sm-12 u-is-hidden--xl">
                    <div class="m-accordion js-accordion">
                        <div class="m-accordion__header">
                            <div class="m-accordion__title js-accordion__toggler"><span class="icon icon-ellipsis-v icon--left"></span>
                    Navigation
                </div>
                        </div>
                        <div class="m-accordion__content js-accordion__content">
                            <nav class="m-nav-sidebar" id="nav-sidebar">
                                <ul class="nocontent menu mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
                <div class="t-page-sidebar__content o-content g-col g-col--sm-12 g-col--xl-8 js-anchorer js-highlighter js-widget-copy">
                    <h1>Price</h1>
                    <p>A price can be attached to an abstract product as well as to a concrete product. The price is stored as an integer, in the smallest unit of the currency (e.g. for Euro that would be cents).</p>
                    <p>Each price is assigned to a price type ( e.g. gross price, net price ) and for a price type there can be one to n product prices defined. Price type entity is used to differentiate between use cases: for example  we have DEFAULT and ORIGINAL type where we use it for sale pricing.</p>
                    <p>The price can have gross or net value which can be used based on a price mode selected by customer in Yves. You can have shop running in both modes and  select net mode for business customer, for example. Price also has currency and store assigned to it.</p>
                    <p>
                        <img src="../../../resources/images/price_calculation.png" title="Click me" alt="price" class="Thumbnail" />
                    </p>
                    <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Price Inheritance</a></span>
                        <div class="MCDropDownBody dropDownBody">
                            <p>As a general rule, if a concrete product doesn’t has a specific entity stored, then it inherits the values stored for its abstract product. This means that when getting the price entity for a specific product, first a check is made if a price is defined for the SKU corresponding to that product: if yes, then it returns that price, but if not, then it queries an abstract product linked to that product and checks if it has a price entity defined.</p>
                            <p>If it still can’t find a price, then it throws an exception (basically this shouldn’t happen if the products have been exported and are up to date).</p>
                            <p>The diagram bellow summarizes the logic for retrieving the price for a product :</p>
                            <p>
                                <img src="../../../resources/images/price_retrieval_logic.png" title="Click me" alt="Price logic" class="Thumbnail" />
                            </p>
                        </div>
                    </div>
                    <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Price Calculation</a></span>
                        <div class="MCDropDownBody dropDownBody">
                            <p>The concerns for the product price calculation are the following :</p>
                            <ul>
                                <li class="bullet_list" value="1">retrieve valid price for the product</li>
                                <li class="bullet_list" value="2">calculate amount of tax</li>
                                <li class="bullet_list" value="3">price for the options that were selected for the product (e.g.: frame, fabric, etc.)</li>
                            </ul>
                            <p>For checkout calculation please visit <a href="../checkout_process/calculation/calculation.html">Checkout Calculation</a>.</p>
                        </div>
                    </div>
                    <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />
				Price Mode</a></span>
                        <div class="MCDropDownBody dropDownBody">
                            <p>

    
        We use the following price modes to identify pricing type:
            </p>
                            <ul>
                                <li value="1"><b>GROSS_MODE</b>- prices after tax.
            </li>
                                <li value="2"><b>NET_MODE-</b> prices before tax.
        </li>
                            </ul>
                            <p>When customer changes the price mode, he/she will see different prices, taxes, as well as the discounts, as they are also applied based on the price mode.
        Price mode is stored in Quote, which means that you cannot have both modes at the same time.
        The price is selected in <var>\Spryker\Zed\PriceCartConnector\Communication\Plugin\CartItemPricePlugin</var> based on the current currency, type and price mode.</p>
                            <p>Price type entity also has price mode to indicate which prices this type is applicable to. If it has BOTH value, then this price type will be used for gross and net prices.
        If you for example have selected price GROSS_MODE for all your price types, then price input form will render only gross part of prices, however if you use NET_MODE, then net price inputs will be displayed respectively.</p>
                            <p>Each store can have a default price mode and a price type selected. Those values will be used when customer has not selected currency or changed the price mode.</p>
        You can use these keys in environment configuration:

        For default price type:
        <pre><code class="bash">$config[PriceProductConstants::DEFAULT_PRICE_TYPE] = 'DEFAULT';        </code></pre>

        For default price mode:
        <pre><code class="bash">$config[PriceProductConstants::DEFAULT_PRICE_TYPE] = 'DEFAULT';        </code></pre><pre><code class="bash">$config[PriceConstants::DEFAULT_PRICE_MODE] = PriceConfig::PRICE_MODE_GROSS;</code></pre><h3>Price Mode Switching</h3><p>
There is a price switcher plugin to help you with implementing price switcher in Yves. To use it, do the following:</p><ol><li value="1">Register <var>"\Spryker\Yves\Price\Plugin\PriceModeSwitcherServiceProvider"</var>
          in Yves Application bootstrap <var>$this-&gt;application-&gt;register(new PriceModeSwitcherServiceProvider());</var>.
        
       This service provider plugin will activate <var>spyPriceModeSwitch</var> twig function which can be inserted anywhere in your twig template. This will render drop down menu with the price mode selection.
</li><li value="2">
          Create Controller Provider for switcher:         <pre><code class="php">&lt;?php
              /**
               * This file is part of the Spryker Demoshop.
               * For full license information, please view the LICENSE file that was distributed with this source code.
               */

              namespace Pyz\Yves\Price\Plugin;

              use Pyz\Yves\Application\Plugin\Provider\AbstractYvesControllerProvider;
              use Silex\Application;

              class PriceControllerProvider extends AbstractYvesControllerProvider
              {
                  const ROUTE_PRICE_SWITCH = 'price-mode-switch';

                  /**
                   * @param \Silex\Application $app
                   *
                   * @return void
                   */
                  protected function defineControllers(Application $app)
                  {
                      $this-&gt;createController(
                          '/price-mode-switch',
                          static::ROUTE_PRICE_SWITCH,
                          'Price',
                          'PriceModeSwitch',
                          'index'
                      );
                  }
              }

          </code></pre></li><li value="3">Add it to YvesBootstrap:
         <pre><code class="bash">
namespace Pyz\Yves\Application;

class YvesBootstrap
{
   /**
   * @param bool|null $isSsl
   *
   * @return \Pyz\Yves\Application\Plugin\Provider\AbstractYvesControllerProvider[]
   */
  protected function getControllerProviderStack($isSsl)
  {
     return [
       ...
       new PriceControllerProvider($isSsl),
       ...
   ]
  }
       }
          </code></pre></li><li value="4">Create template for component:

          <pre><code class="bash">

              {% if price_modes|length &gt; 1 %}
                  &lt;form method="GET" action="{{ path('price-mode-switch') }}" data-component="price-mode-switch"&gt;
                      &lt;select name="price-mode" onchange="this.form.submit()"&gt;
                          {% for price_mode in price_modes %}
                              &lt;option value="{{ price_mode }}" {{ (price_mode == current_price_mode) ? 'selected' : ''}}&gt;{{ ('price.mode.' ~ price_mode | lower) | trans }}&lt;/option&gt;
                          {% endfor %}
                      &lt;/select&gt;
                      &lt;input type="hidden" name="referrer-url" value="{{ app.request.requestUri }}" /&gt;
                  &lt;/form&gt;
              {% endif %}


          </code></pre></li><li value="5">Place the template you just created to <var>Pyz/Yves/Price/Theme/default/partial/price_mode_switcher.twig</var>

          The switch can happen only if quote have to items.

          This available after product currency release so you must first follow <a href="../../migration_guides/mg_price.html">migration guide for price</a>.</li></ol><p>&#160;</p></div>
                    </div>
                    <p><b>See also:</b>
                    </p>
                    <ul>
                        <li value="1"><a href="../../migration_guides/mg_price.html"><a href="../../migration_guides/mg_price.html" class="MCXref xref">Migration Guide - Price</a></a>
                        </li>
                        <li value="2"><a href="../checkout_process/calculation/calculation.html" class="MCXref xref">Calculation</a>
                        </li>
                    </ul>
                    <p>&#160;</p>
                    <p><i>Last review date: Nov. 22nd, 2017 </i>
                    </p>
                </div>
                <div class="t-page-sidebar__sidebar g-col g-col--sm-12 g-col--xl-4 u-is-hidden--sm-xl">
                    <section class="a-box a-box--shadow">
                        <nav class="m-nav-sidebar" id="nav-sidebar">
                            <ul class="nocontent menu mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                            </ul>
                        </nav>
                    </section>
                </div>
            </main>
            <div class="t-base__footer">
                <footer class="o-footer g-grid g-grid--middle">
                    <nav class="g-grid g-grid--container g-grid--center"><a class="o-footer__link" href="https://spryker.com/privacy-policy" target="_blank">Privacy policy</a><a class="o-footer__link" href="https://spryker.com/partneragb" target="_blank">AGB Partnerprogram</a><a class="o-footer__link" href="https://spryker.com/impressum" target="_blank">Impressum</a>
                    </nav>
                </footer>
            </div><a class="a-scroll-top js-scroll-top" href="#"><span class="a-scroll-top__icon icon icon-chevron-up"></span></a>
            <div class="t-base__overlay js-base-template__toggler">
            </div>
        </div>
        <div class="t-base__off">
            <section class="o-off-canvas">
                <nav class="m-nav-mobile" id="nav-mobile">
                    <ul class="nocontent menu mc-component" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                    </ul>
                </nav>
            </section>
        </div>
        <script src="/resources/ui/js/academy-ui-manifest.js">
        </script>
        <script src="/resources/ui/js/academy-ui-vendor.js">
        </script>
        <script src="/resources/ui/js/academy-ui-app.js">
        </script>
        <script>/* <![CDATA[ */
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-56589105-2', 'auto');
        ga('send', 'pageview');
    /* ]]> */</script>
        <script type="text/javascript" id="hs-script-loader" src="//js.hs-scripts.com/2770802.js">
        </script>
    </body>
</html>